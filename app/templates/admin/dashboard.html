{% extends "admin/base.html" %}

{% block admin_title %}å„€è¡¨æ¿ - ç®¡ç†å¾Œå°{% endblock %}

{% block admin_extra_css %}
<style>
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 20px;
    }
    @media (max-width: 1200px) {
        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
    @media (max-width: 768px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }
    }
    .stat-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }
    .stat-card.blue {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }
    .stat-card.green {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        color: white;
    }
    .stat-card.yellow {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
    }
    .stat-card.light-blue {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
    }
    .stat-card.gray {
        background: linear-gradient(135deg, #434343 0%, #000000 100%);
        color: white;
    }
    .stat-card-title {
        font-size: 14px;
        opacity: 0.9;
        margin-bottom: 10px;
    }
    .stat-card-number {
        font-size: 32px;
        font-weight: bold;
        margin-bottom: 5px;
    }
    .stat-card-subtitle {
        font-size: 12px;
        opacity: 0.8;
    }
    .stat-card-icon {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 48px;
        opacity: 0.3;
    }
    .dashboard-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 20px;
    }
    @media (max-width: 768px) {
        .dashboard-grid {
            grid-template-columns: 1fr;
        }
    }
    .dashboard-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .dashboard-card-header {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        font-size: 18px;
        font-weight: 600;
        color: #333;
    }
    .dashboard-card-header i {
        margin-right: 10px;
        font-size: 20px;
    }
    .recent-item {
        padding: 12px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .recent-item:last-child {
        border-bottom: none;
    }
    .recent-item-title {
        font-weight: 500;
        color: #333;
    }
    .recent-item-date {
        font-size: 12px;
        color: #999;
        margin-top: 5px;
    }
    .empty-state {
        text-align: center;
        padding: 40px;
        color: #999;
    }
</style>
{% endblock %}

{% block content %}
    <h1>å„€è¡¨æ¿</h1>
    
    <div class="stats-grid">
        <div class="stat-card blue">
            <div class="stat-card-title">æ©Ÿè»Šç¸½æ•¸</div>
            <div class="stat-card-number">{{ total_motorcycles }}</div>
            <div class="stat-card-subtitle">å¾…å‡ºç§Ÿ: {{ available_motorcycles }}</div>
            <div class="stat-card-icon">ğŸï¸</div>
        </div>
        
        <div class="stat-card green">
            <div class="stat-card-title">è¨‚å–®ç¸½æ•¸</div>
            <div class="stat-card-number">{{ total_orders }}</div>
            <div class="stat-card-subtitle">å¾…è™•ç†: {{ pending_orders }}</div>
            <div class="stat-card-icon">ğŸ“‹</div>
        </div>
        
        <div class="stat-card yellow">
            <div class="stat-card-title">åˆä½œå•†</div>
            <div class="stat-card-number">{{ total_partners }}</div>
            <div class="stat-card-subtitle">ç¸½æ•¸: {{ total_partners }}</div>
            <div class="stat-card-icon">ğŸ¤</div>
        </div>
        
        <div class="stat-card light-blue">
            <div class="stat-card-title">Banner</div>
            <div class="stat-card-number">{{ total_banners }}</div>
            <div class="stat-card-subtitle">å•Ÿç”¨: {{ total_banners }}</div>
            <div class="stat-card-icon">ğŸ–¼ï¸</div>
        </div>
    </div>
    
    <div class="stat-card gray" style="margin-bottom: 20px;">
        <div class="stat-card-title">ç”¨æˆ¶ç¸½æ•¸</div>
        <div class="stat-card-number">{{ total_users }}</div>
        <div class="stat-card-subtitle">ç®¡ç†å“¡: {{ admin_users }}</div>
        <div class="stat-card-icon">ğŸ‘¥</div>
    </div>
    
    <div class="dashboard-grid">
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <i class="bi bi-file-text"></i>
                æœ€è¿‘è¨‚å–®
            </div>
            {% if recent_orders %}
                {% for order in recent_orders %}
                <div class="recent-item">
                    <div>
                        <div class="recent-item-title">{{ order.order_number }}</div>
                        <div class="recent-item-date">{{ order.reservation_date.strftime('%Y-%m-%d') if order.reservation_date else '-' }}</div>
                    </div>
                    <span class="badge bg-success">{{ order.status }}</span>
                </div>
                {% endfor %}
            {% else %}
                <div class="empty-state">å°šç„¡è¨‚å–®</div>
            {% endif %}
        </div>
        
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <i class="bi bi-bicycle"></i>
                æ©Ÿè»Šç‹€æ…‹
            </div>
            <div class="recent-item">
                <div>
                    <div class="recent-item-title">å¾…å‡ºç§Ÿ</div>
                </div>
                <span class="badge bg-success">{{ available_motorcycles }} å°</span>
            </div>
            <div class="recent-item">
                <div>
                    <div class="recent-item-title">ç¸½æ•¸</div>
                </div>
                <span class="badge bg-primary">{{ total_motorcycles }} å°</span>
            </div>
        </div>
    </div>
{% endblock %}
